{"is_source_file": true, "format": "TypeScript (TSX/React)", "description": "This file implements the main React component for a Tetris game UI, handling game state, controls, rendering, and user interactions, including touch controls for mobile adaptivity.", "external_files": ["../tetris/types", "../tetris/engine"], "external_methods": ["createEmptyBoard", "getTetromino", "createBagRNG", "rotate", "isValidPosition", "mergeBoard", "clearRows", "randomSeededRNG"], "published": ["TetrisGame"], "classes": [], "methods": [{"name": "getDropY", "description": "Calculates the Y position where a tetromino would land if dropped vertically from current position."}, {"name": "getLevelByLines", "description": "Determines the current game level based on the number of cleared lines."}, {"name": "getScoreForClearedRows", "description": "Calculates the score awarded for clearing a specific number of rows at a given level."}, {"name": "initGame", "description": "Initializes and resets the game state, starting a new game session."}, {"name": "spawnPiece", "description": "Generates and places the next tetromino piece onto the board."}, {"name": "fall", "description": "Advances the current piece downward; locks it if movement is blocked, clears rows, updates score/level, and spawns new piece."}, {"name": "renderBoard", "description": "Prepares the current game board with active and ghost pieces for rendering."}, {"name": "mobileControlBtn", "description": "Creates a styled button for mobile touch controls."}, {"name": "moveLeft", "description": "Moves the current piece left if valid."}, {"name": "moveRight", "description": "Moves the current piece right if valid."}, {"name": "moveDown", "description": "Soft drops the current piece downward."}, {"name": "rotatePiece", "description": "Rotates the current piece."}, {"name": "hardDrop", "description": "Instantly drops the piece to the lowest valid position."}], "calls": ["createEmptyBoard", "getTetromino", "createBagRNG", "rotate", "isValidPosition", "mergeBoard", "clearRows", "randomSeededRNG", "setBoard", "setLines", "setScore", "setLevel", "setStatus", "spawnPiece", "clearTimeout", "setPiece", "useCallback", "useRef", "useEffect", "useState", "setTimeout"], "search-terms": ["TetrisGame", "react-tetris", "game controls", "touch controls", "game state", "board rendering", "score", "level", "randomized RNG", "next piece preview", "game over overlay"], "state": 2, "file_id": 18, "knowledge_revision": 69, "git_revision": "8f1f24aaef6e89b6bb0dcffbbd5b1f30ac662f60", "revision_history": [{"37": ""}, {"44": ""}, {"45": ""}, {"46": ""}, {"47": "fc7d43140033530554bbb1c5e2f1342d99cc91a5"}, {"52": "fc7d43140033530554bbb1c5e2f1342d99cc91a5"}, {"53": "5ea43db3976d82cd398229024063a07bdcf02163"}, {"56": "5ea43db3976d82cd398229024063a07bdcf02163"}, {"57": "5ea43db3976d82cd398229024063a07bdcf02163"}, {"58": "5ea43db3976d82cd398229024063a07bdcf02163"}, {"59": "5ea43db3976d82cd398229024063a07bdcf02163"}, {"60": "8f1f24aaef6e89b6bb0dcffbbd5b1f30ac662f60"}, {"61": "8f1f24aaef6e89b6bb0dcffbbd5b1f30ac662f60"}, {"62": "8f1f24aaef6e89b6bb0dcffbbd5b1f30ac662f60"}, {"63": "8f1f24aaef6e89b6bb0dcffbbd5b1f30ac662f60"}, {"65": "8f1f24aaef6e89b6bb0dcffbbd5b1f30ac662f60"}, {"67": "8f1f24aaef6e89b6bb0dcffbbd5b1f30ac662f60"}, {"68": "8f1f24aaef6e89b6bb0dcffbbd5b1f30ac662f60"}, {"69": "8f1f24aaef6e89b6bb0dcffbbd5b1f30ac662f60"}], "ctags": [], "hash": "d6664a791051ac6dd3ccd3104ecaa1dd", "format-version": 4, "code-base-name": "tetris_frontend", "filename": "tetris_frontend/src/components/TetrisGame.tsx"}