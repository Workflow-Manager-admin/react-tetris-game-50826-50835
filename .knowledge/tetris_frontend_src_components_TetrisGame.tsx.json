{"is_source_file": true, "format": "TypeScript React (TSX)", "description": "This file implements the main frontend component for a Tetris game using React. It handles game logic, rendering the game board, user input, controls, UI layout, and game state management.", "external_files": ["../tetris/types", "../tetris/engine"], "external_methods": ["createEmptyBoard", "getTetromino", "createBagRNG", "rotate", "isValidPosition", "mergeBoard", "clearRows", "randomSeededRNG"], "published": ["TetrisGame"], "classes": [], "methods": [{"name": "getDropY", "description": "Calculates the Y position where the current piece would land if dropped directly downward."}, {"name": "getLevelByLines", "description": "Determines the current game level based on the number of lines cleared."}, {"name": "getScoreForClearedRows", "description": "Calculates score based on the number of cleared rows and current level using classic NES scoring rules."}, {"name": "initGame", "description": "Initializes or restarts the game state, resetting board, score, level, and spawning the first pieces."}, {"name": "spawnPiece", "description": "Loads the next piece into play and queues a new upcoming piece."}, {"name": "fall", "description": "Advances the active piece downward by one row, locking it if it cannot move further and handling row clearing."}, {"name": "renderBoard", "description": "Renders the current game board with active, ghost, and static cells for display."}, {"name": "moveLeft", "description": "Moves the active piece left if the move is valid."}, {"name": "moveRight", "description": "Moves the active piece right if the move is valid."}, {"name": "moveDown", "description": "Soft drops the active piece downward by one row."}, {"name": "rotatePiece", "description": "Rotates the active piece if the rotation results in a valid position."}, {"name": "hardDrop", "description": "Instantly drops the active piece to the lowest valid position and locks it."}], "calls": ["createEmptyBoard", "getTetromino", "createBagRNG", "rotate", "isValidPosition", "mergeBoard", "clearRows", "randomSeededRNG", "setTimeout", "clearTimeout"], "search-terms": ["TetrisGame", "react frontend", "game logic", "TSX", "game controls", "board rendering", "score management", "game over overlay", "controls UI", "next piece preview"], "state": 2, "file_id": 18, "knowledge_revision": 82, "git_revision": "cd90f8f892e8abb6202ac0109e68749200a30b5b", "revision_history": [{"37": ""}, {"44": ""}, {"45": ""}, {"46": ""}, {"47": "fc7d43140033530554bbb1c5e2f1342d99cc91a5"}, {"52": "fc7d43140033530554bbb1c5e2f1342d99cc91a5"}, {"53": "5ea43db3976d82cd398229024063a07bdcf02163"}, {"56": "5ea43db3976d82cd398229024063a07bdcf02163"}, {"57": "5ea43db3976d82cd398229024063a07bdcf02163"}, {"58": "5ea43db3976d82cd398229024063a07bdcf02163"}, {"59": "5ea43db3976d82cd398229024063a07bdcf02163"}, {"60": "8f1f24aaef6e89b6bb0dcffbbd5b1f30ac662f60"}, {"61": "8f1f24aaef6e89b6bb0dcffbbd5b1f30ac662f60"}, {"62": "8f1f24aaef6e89b6bb0dcffbbd5b1f30ac662f60"}, {"63": "8f1f24aaef6e89b6bb0dcffbbd5b1f30ac662f60"}, {"65": "8f1f24aaef6e89b6bb0dcffbbd5b1f30ac662f60"}, {"67": "8f1f24aaef6e89b6bb0dcffbbd5b1f30ac662f60"}, {"68": "8f1f24aaef6e89b6bb0dcffbbd5b1f30ac662f60"}, {"69": "8f1f24aaef6e89b6bb0dcffbbd5b1f30ac662f60"}, {"70": "b45fe179db89cf3986b006522ed28546a5b74e63"}, {"71": "b45fe179db89cf3986b006522ed28546a5b74e63"}, {"72": "b45fe179db89cf3986b006522ed28546a5b74e63"}, {"75": "b45fe179db89cf3986b006522ed28546a5b74e63"}, {"76": "b45fe179db89cf3986b006522ed28546a5b74e63"}, {"77": "b45fe179db89cf3986b006522ed28546a5b74e63"}, {"78": "b45fe179db89cf3986b006522ed28546a5b74e63"}, {"79": "b45fe179db89cf3986b006522ed28546a5b74e63"}, {"80": "b45fe179db89cf3986b006522ed28546a5b74e63"}, {"81": "cd90f8f892e8abb6202ac0109e68749200a30b5b"}, {"82": "cd90f8f892e8abb6202ac0109e68749200a30b5b"}], "ctags": [], "hash": "4beebad17c44629fa29ecb71fed45852", "format-version": 4, "code-base-name": "tetris_frontend", "filename": "tetris_frontend/src/components/TetrisGame.tsx"}